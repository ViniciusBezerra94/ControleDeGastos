<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>ControleWeb</title>
        <meta http-equiv="Cache-Control" content="no-cache" />
        <meta http-equiv="Expires" content="0" />  
        <link rel="stylesheet" type="text/css" href="#{request.contextPath}/resources/css/jquery-ui.css"/>  
        <link rel="stylesheet" type="text/css" href="#{request.contextPath}/resources/css/theme.css"/>  
        <link rel="shortcut icon" type="image/x-icon" href="#{request.contextPath}/resources/img/logo.ico"/> 
        <script type="text/javascript" src="#{request.contextPath}/resources/js/jquery.js"></script>
        <script type="text/javascript" src="#{request.contextPath}/resources/js/jquery-ui.js"></script> 
        <script type="text/javascript" src="#{request.contextPath}/resources/js/bootstrap.min.js"></script>      
        <script type="text/javascript" src="#{request.contextPath}/resources/js/jquery.zoom.min.js"></script>   
        <script type="text/javascript" src="#{request.contextPath}/resources/js/jquery.maskedinput.js"></script>
        <script type="text/javascript" src="#{request.contextPath}/resources/js/jquery.validate.js"></script>
        <script type="text/javascript" src="#{request.contextPath}/resources/js/bootbox.min.js"></script>
        <script type="text/javascript" src="#{request.contextPath}/resources/js/validacao.js"></script> 
        <script type="text/javascript" src="//code.jquery.com/jquery-1.12.1.min.js"></script> 

    </h:head>

    <h:body>
        <h:form class="form-horizontal">
            <div class="panel panel-default">
                <div class="panel-heading">Novo Tópico</div>
                <div class="container">           

                    <!-- Text input-->
                    <div class="form-group">
                        <label class="col-md-4 control-label" for="descrico">Descrição</label>  
                        <div class="col-md-4">
                            <h:inputText value="#{gastosMB.gas.descricao}" id="descricao" class="form-control input-md"/>
                        </div>
                    </div>

                    <!-- Text input-->
                    <div class="form-group">
                        <label class="col-md-4 control-label" for="data">Data</label>  
                        <div class="col-md-4">
                            <h:inputText value="#{gastosMB.dataGasto}"  id="data" class="form-control input-md"/>
                        </div>
                    </div>

                    <!-- Text input-->
                    <div class="form-group">
                        <label class="col-md-4 control-label" for="valor">Valor</label>  
                        <div class="col-md-4">
                            <h:inputText value="#{gastosMB.gas.valor}" id="valor" class="form-control input-md"/>
                        </div>
                    </div>

                    <!-- Text input-->
                    <div class="form-group">
                        <label class="col-md-4 control-label" for="tipoGasto">Tipo de Gasto</label>  
                        <div class="col-md-4">
                            <h:inputText value="#{gastosMB.gas.tipoGasto}" id="tipoGasto" class="form-control input-md"/>
                        </div>
                    </div>

                    <!-- Button -->
                    <div class="form-group">
                        <div class="col-md-4">
                            <h:commandButton value="Cadastrar" action="#{gastosMB.salvar()}" id="singlebutton" class="btn btn-primary"/>
                        </div>
                    </div>
                </div>

            </div>
        </h:form>
        <h:form>
            <h:outputLabel value="Data: "></h:outputLabel>
            <div class="col-md-4">
                <h:inputText value="#{gastosMB.dataIni}" id="descricao" class="form-control input-md"/>
            </div>



            <div class="col-md-4">
                <h:inputText value="#{gastosMB.dataFim}"  id="data" class="form-control input-md"/>
            </div>


            <h:commandButton value="buscar" class="btn-sm btn-primary" action="#{gastosMB.buscarEntreDatas()}"/>

    </h:form>



    <h:form id="formTabela">
        <div class="container">
            <h:dataTable  styleClass=" table table-striped"  value="#{gastosMB.gastos}" var="gasto">
                <h:column >
                    <!-- column header -->
                    <f:facet name="header">Descricao</f:facet>
                    <!-- row record -->
                    <h:outputText  value="#{gasto.descricao}" />
                </h:column>

                <h:column >
                    <f:facet name="header">Valor</f:facet>
                    <h:outputText   value="#{gasto.valor}"/>
                </h:column>

                <h:column>
                    <f:facet name="header">Tipo de Gasto</f:facet>
                    <h:outputText value="#{gasto.tipoGasto}"/>
                </h:column>

                <h:column>
                    <f:facet name="header">Data</f:facet>
                    <h:outputText value="#{gastosMB.formatarData(gasto.data)}"/>
                </h:column>
                <h:column>
                    <h:commandButton class="btn-sm btn-primary" value="Editar" action="#{gastosMB.editar(gasto)}" />
                </h:column>
                <h:column>
                    <h:commandButton class="btn-sm btn-danger " value="Remover" action="#{gastosMB.remover(gasto)}" />
                </h:column>

            </h:dataTable>

        </div>
    </h:form>
    <div class="col-md-11">
        <label class="control-label" >Total: </label>  

        <h:outputText value="#{gastosMB.calcularTotal(gastosMB.gastos)}" id="total"/>
    </div>

</h:body>
</html>

